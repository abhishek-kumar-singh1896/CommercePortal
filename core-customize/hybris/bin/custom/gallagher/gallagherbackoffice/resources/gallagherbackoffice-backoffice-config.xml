<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
 Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.
-->
<config xmlns="http://www.hybris.com/cockpit/config"
	xmlns:wz="http://www.hybris.com/cockpitng/config/wizard-config"
	xmlns:na="http://www.hybris.com/cockpitng/config/notifications"
	xmlns:list-view="http://www.hybris.com/cockpitng/component/listView"
	xmlns:editorArea="http://www.hybris.com/cockpitng/component/editorArea">

	<context merge-by="module" component="editorareaactions" type="Consignment">
		<y:actions xmlns:y="http://www.hybris.com/cockpit/config/hybris">
			<y:group qualifier="common">
				<y:label>actiongroup.common</y:label>				
				<y:action action-id="com.gallagher.backoffice.actions.confirmpickupaction" property="currentObject"/>				
			</y:group>
		</y:actions>
    </context>

	<!-- Notification Area-->
	<context component="notification-area">
	    <na:notification-area>	        
	        <na:notifications eventType="gallagherbackoffice.confirmpickup.event" level="SUCCESS">
	            <na:message>hmc.action.confirmpickup.success</na:message>
	        </na:notifications>
	   </na:notification-area>
	</context>
	
	<context component="create-wizard" type="Customer">
        <wz:flow id="CustomerWizard" title="create.title(ctx.TYPE_CODE)">
        	<wz:handler handlerId="verifyCustomerHandler1" handlerBean="verifyCustomerHandler">
            </wz:handler>
            <wz:prepare id="custPrepare">
                <wz:initialize property="newCust" type="Customer"/>
            </wz:prepare>
            <wz:step id="step1" label="create.customer.verification.label" sublabel="create.customer.verification.sublabel" merge-mode="REPLACE">
                <wz:content id="step1.content">
                    <wz:property-list root="newCust" >
                        <wz:property qualifier="uid" type="java.lang.String" label="create.customer.verification.email"/>
                    </wz:property-list>
                </wz:content>
                <wz:navigation id="step1.navigation" merge-mode="REPLACE">
                    <wz:cancel/>
                    <wz:custom label="Verify" composedHandler="verifyCustomerHandler1"/>
                </wz:navigation>
            </wz:step>
            <wz:step id="step2" label="create.customer.essential.label" sublabel="create.customer.essential.sublabel" merge-mode="REPLACE">
                <wz:content id="step2.content">
                    <wz:property-list root="newCust">
                        <wz:property qualifier="uid" type="java.lang.String" label="create.customer.verification.email" read-only="true"/>
                        <wz:property qualifier="customerID" type="java.lang.String" label="create.customer.verification.customerID"/>
                        <wz:property qualifier="name" type="java.lang.String" label="create.customer.verification.name"/>
                        <wz:property qualifier="description" type="java.lang.String" label="create.customer.verification.description"/>
                    </wz:property-list>
                </wz:content>
                <wz:navigation id="step2.navigation" merge-mode="REPLACE">
                    <wz:cancel/>
                    <wz:back/>
                    <wz:next/>
                    <wz:done>
                        <wz:save property="newCust"/>
                    </wz:done>
                </wz:navigation>
            </wz:step>
            <wz:step id="step3" label="create.customer.locale.label" sublabel="create.customer.locale.sublabel">
                <wz:content id="step3.content">
                    <wz:property-list root="newCust" merge-mode="REPLACE">
                        <wz:property qualifier="sessionLanguage" type="java.lang.String" label="create.customer.verification.sessionLanguage"/>
                        <wz:property qualifier="sessionCurrency" type="java.lang.String" label="create.customer.verification.sessionCurrency"/>
                    </wz:property-list>
                </wz:content>
                <wz:navigation id="step3.navigation" merge-mode="REPLACE">
                    <wz:cancel/>
                    <wz:back/>
                    <wz:next/>
                    <wz:done>
                        <wz:save property="newCust"/>
                    </wz:done>
                </wz:navigation>
            </wz:step>
            <wz:step id="step4" label="create.customer.groups.label" sublabel="create.customer.groups.sublabel">
                <wz:content id="step4.content">
                    <wz:property-list root="newCust" merge-mode="REPLACE">
                        <wz:property qualifier="groups" type="java.lang.String" label="create.customer.verification.groups"/>
                    </wz:property-list>
                </wz:content>
                <wz:navigation id="step4.navigation" merge-mode="REPLACE">
                    <wz:cancel/>
                    <wz:back/>
                    <wz:done>
                        <wz:save property="newCust"/>
                    </wz:done>
                </wz:navigation>
            </wz:step>
        </wz:flow>
    </context>
	<context component="notification-area">
		<na:notification-area>
			<na:notifications eventType="invalidEmailAddress" level="FAILURE">
				<na:message>customer.invalid.emailAddress.failure</na:message>
			</na:notifications>
			<na:notifications eventType="duplicateC4CCustomer" level="FAILURE">
				<na:message>duplicate.customer.c4c.failure</na:message>
			</na:notifications>
			<na:notifications eventType="duplicateHybrisCustomer" level="FAILURE">
				<na:message>duplicate.customer.hybris.failure</na:message>
			</na:notifications>
			<na:notifications eventType="c4cConnectionError" level="FAILURE">
				<na:message>text.connection.exception.error</na:message>
			</na:notifications>
		</na:notification-area>
	</context>
    <context merge-by="type" parent="User" type="Customer" component="listview">
		<list-view:list-view>
			<list-view:column qualifier="duplicate" label="type.Customer.duplicate" />
		</list-view:list-view>
	</context>
	<context merge-by="type" parent="User" type="Customer" component="editor-area">
        <editorArea:editorArea name="">
            <editorArea:tab name="hmc.gallagher" position="11">
                <editorArea:section name="hmc.section.gallagher">
                    <editorArea:attribute qualifier="duplicate" label="hmc.duplicacy.label"/>
                    <editorArea:attribute qualifier="keycloakGUID" label="hmc.keycloakGUID.label"/>
                </editorArea:section>
            </editorArea:tab>
        </editorArea:editorArea>
    </context>
	<context merge-by="type" parent="Customer" type="B2BCustomer" component="create-wizard">
	    <wz:flow xmlns:wz="http://www.hybris.com/cockpitng/config/wizard-config" id="CustomerWizard" title="create.title(ctx.TYPE_CODE)">
			<wz:handler handlerId="verifyCustomerHandler1" handlerBean="verifyCustomerHandler">
			</wz:handler>
			<wz:prepare id="custPrepare">
				<wz:initialize property="newCust" type="B2BCustomer"/>
			</wz:prepare>
			<wz:step id="step1" label="create.customer.verification.label" sublabel="create.customer.verification.sublabel" merge-mode="REPLACE">
				<wz:content id="step1.content">
					<wz:property-list root="newCust">
						<wz:property qualifier="email" type="java.lang.String"/>
					</wz:property-list>
				</wz:content>
				<wz:navigation id="step1.navigation">
						<wz:cancel/>
						<wz:custom label="Verify" composedHandler="verifyCustomerHandler1"/>
				</wz:navigation>
			</wz:step>
	        <wz:step id="step2" label="create.customer.essential.label" sublabel="create.customer.essential.sublabel">
	            <wz:content id="step2.content">
	                <wz:property-list root="newCust" merge-mode="REPLACE">
	                    <wz:property qualifier="uid" type="java.lang.String" label="create.customer.verification.email" readonly="true"/>
	                    <wz:property qualifier="customerID" type="java.lang.String" label="create.customer.verification.customerID"/>
	                    <wz:property qualifier="name" type="java.lang.String" label="create.customer.verification.name"/>
	                    <wz:property qualifier="description" type="java.lang.String" label="create.customer.verification.description"/>
	                </wz:property-list>
	            </wz:content>
	            <wz:navigation id="step2.navigation" merge-mode="REPLACE">
	                <wz:cancel/>
	                <wz:back/>
	                <wz:next/>
	            </wz:navigation>
	        </wz:step>		
			<wz:step id="step3" label="create.customer.locale.label" sublabel="create.customer.locale.sublabel" merge-mode="REPLACE">
				<wz:info id="step3.intro" label="create.b2bcustomer.memberships.intro" position="top"/>
				<wz:content id="step3.content">
					<wz:property-list root="newCust">
						<wz:property qualifier="sessionLanguage" type="java.lang.String" label="create.customer.verification.sessionLanguage"/>
                        <wz:property qualifier="sessionCurrency" type="java.lang.String" label="create.customer.verification.sessionCurrency"/>
                   		<wz:property qualifier="defaultB2BUnit"/>
					</wz:property-list>
				</wz:content>
				<wz:navigation id="step3.navigation">
					<wz:back/>
					<wz:cancel/>
					<wz:next visible="newCust.defaultB2BUnit != null"/>
					<wz:done visible="newCust.defaultB2BUnit != null">
						<wz:save property="newCust"/>
					</wz:done>
				</wz:navigation>
			</wz:step>
	    </wz:flow>
	</context>
</config>
